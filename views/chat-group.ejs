<style>
    .container {
      max-width: 960px;
      margin: 0 auto;
      padding: 20px;
    }
  
    .row {
      display: flex;
      flex-wrap: wrap;
      margin-right: -15px;
      margin-left: -15px;
    }
  
    .col-md-3,
    .col-md-9 {
      position: relative;
      width: 100%;
      padding-right: 15px;
      padding-left: 15px;
    }
  
    .list-group {
      margin-bottom: 20px;
    }
  
    .list-group-item {
      display: flex;
      align-items: center;
      padding: 10px;
      cursor: pointer;
    }
  
    .list-group-item img {
      border-radius: 50%;
      margin-right: 10px;
    }
  
    .group-start-head {
      margin-top: 0;
    }
  
    .group-chat-section {
      margin-top: 20px;
    }
  
    #group-chat-container {
      height: 300px;
      overflow-y: auto;
      padding: 10px;
      background-color: #f9f9f9;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  
    #group-chat-form {
      display: flex;
      align-items: center;
      margin-top: 10px;
    }
  
    #group-chat-form input[type="text"] {
      flex-grow: 1;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  
    #group-chat-form input[type="submit"] {
      margin-left: 10px;
      padding: 8px 16px;
      font-size: 16px;
      border: none;
      border-radius: 4px;
      background-color: #4caf50;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
  
    #group-chat-form input[type="submit"]:hover {
      background-color: #45a049;
    }
  </style>


<%- include('layouts/header.ejs') %>
<h2 class="mb-4">Group Chat
</h2>

<div class="row">

    <div class="col-md-3">

        <ul class="list-group">

            <% if(myGroups.length> 0){

            for(let i=0; i<mygroups.length; i++){ %>
                <li
                    class="list-group-item list-group-item-dark cursor-pointer group-list"
                    data-id="<%= myGroups[i]['_id'] %>">
                    <img src="/<%= myGroups[i]['image'] %>" alt width="50px"
                        height="50px">
                    <%= myGroups[i]['name'] %>

                </li>
                <% } } %>

                <!-- ------- show joined groups ------ -->
                <% if(joinedGroups.length> 0){

                for(let i=0; i<joinedgroups.length; i++){ %>
                    <li
                        class="list-group-item list-group-item-dark cursor-pointer group-list"
                        data-id="<%= joinedGroups[i]['group_id']['_id'] %>">
                        <img src="/<%= joinedGroups[i]['group_id']['image'] %>"
                            alt width="50px"
                            height="50px">
                        <%= joinedGroups[i]['group_id']['name'] %>

                    </li>
                    <% } } %>

                </ul>

            </div>
            <div class="col-md-9">
                <h3 class="group-start-head">
                    Click to Start the group chat
                </h3>
                <div class="group-chat-section">
                    <div id="group-chat-container">

                        <!-- <div class="distance-user-chat">
                    <h5>HII</h5>
                </div> -->
                    </div>
                    <form action id="group-chat-form">

                        <input type="text" name="message"
                            placeholder="Enter Message" id="group-message"
                            class="border"
                            required>
                        <input type="submit" value="Send Message"
                            class="btn btn-primary">
                    </form>
                </div>
            </div>

        </div>

        <%- include('layouts/footer.ejs') %>